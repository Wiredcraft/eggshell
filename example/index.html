<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<link href="bower_components/prism/themes/prism.css" rel="stylesheet" />
  <script src="bower_components/prism/prism.js"></script>

  <link rel="stylesheet" href="bower_components/CodeMirror/lib/codemirror.css">
  <script src="bower_components/CodeMirror/lib/codemirror.js"></script>
  <script src="bower_components/CodeMirror/mode/css/css.js"></script>
  <script src="bower_components/CodeMirror/mode/xml/xml.js"></script>
<link rel="stylesheet" type="text/css" href="dist/test.css">
<body class="modal">
<!-- https://github.com/graphific/DeepDreamVideo -->


<div class="row render">
  <h3>Code</h3>
  <div class="col-1-3"><label>HTML</label>
  <textarea class="html">&lt;pre&gt;&lt;code&gt;
  var pi = 3.1415;
&lt;/code&gt;&lt;/pre&gt;</textarea></div>
  <div class="col-1-3"><label>CSS</label>
    <textarea class="css">/* no css */</textarea>
  </div>
  <div class="col-1-3"><label>Rendering</label><div class="rendering shadow-root"></div></div>
</div>




<div class="row render">
  <h3>Button</h3>
  <div class="col-1-3"><label>HTML</label>
  <textarea class="html">&lt;button class=&quot;button&quot;&gt;
    Normal Button
&lt;/button&gt;
&lt;a class=&quot;button&quot;&gt;
    Link Button
&lt;/a&gt;</textarea></div>
  <div class="col-1-3"><label>CSS</label>
  <textarea class="css">.button {
  margin: 20px;
}</textarea></div>
  <div class="col-1-3"><label>Rendering</label><div class="rendering shadow-root"></div></div>
</div>



<div class="row render">
  <h3>Notification</h3>

  <div class="col-1-3">
   <label>HTML</label>
<textarea class="html">&lt;div class=&quot;notification info&quot;&gt;
This is an info notification 
&lt;/div&gt;
&lt;div class=&quot;notification error&quot;&gt;
This is an error notification 
&lt;/div&gt;
</textarea>
  </div>
  <div class="col-1-3"><label>CSS</label>
   <textarea class="css">.notification {
  width: 80%;
  margin-top: 1.4em;
  margin-left: auto;
  margin-right: auto;
}</textarea>
  </div>
  <div class="col-1-3">
   <label>Rendering</label>
   <div class="rendering shadow-root"></div>
  </div>
</div>




<div class="row render">
<h3>Loading</h3>
<div class="col-1-3"><label>HTML</label>
<textarea class="html">
&lt;span class=&quot;loading&quot;&gt;&lt;/span&gt;
</textarea>
  </div>
  <div class="col-1-3">
   <label>CSS</label>
  <textarea class="css">.loading {
  margin: 13em;
  padding-bottom: 67px;
}</textarea>
  </div>
  <div class="col-1-3">
   <label>Rendering</label>
   <div class="rendering shadow-root"></div>
  </div>
</div>




<div class="row render">
  <h3>Pulse</h3>
  <div class="col-1-3">
   <label>HTML</label>
   <textarea class="html">
&lt;span class=&quot;pulse&quot;&gt;this text is pulse&lt;/span&gt;
&lt;span class=&quot;pulse-mixin&quot;&gt;this text is pulse&lt;/span&gt;
   </textarea>
  </div>
  <div class="col-1-3">
   <label>CSS</label>
   <textarea class="css">
.pulse-mixin {
  @include pulse(1s);
}
   </textarea>
  </div>
  <div class="col-1-3">
   <label>Rendering</label>
   <div class="rendering shadow-root"></div>
  </div>
</div>

<div class="row render">
  <h3>Spin</h3>
  <div class="col-1-3">
   <label>HTML</label>
   <textarea class="html">
&lt;span class=&quot;spin&quot;&gt;this text is spinning&lt;/span&gt;
&lt;span class=&quot;spin-mixin&quot;&gt;this text is spinning&lt;/span&gt;
   </textarea>
  </div>
  <div class="col-1-3">
   <label>CSS</label>
   <textarea class="css">
.spin-mixin {
  @include spin(1s);
}
   </textarea>
  </div>
  <div class="col-1-3">
   <label>Rendering</label>
   <div class="rendering shadow-root"></div>
  </div>
</div>




<div class="row render">
  <h3>Tooltip</h3>
  <div class="col-1-3">
    <label>HTML</label>
    <textarea class="html">
&lt;span class=&quot;tooltip&quot;&gt;
  this text has a tooltip
  &lt;span&gt;this is the tooltip&lt;/span&gt;
&lt;/span&gt;
    </textarea>
  </div>
  <div class="col-1-3">
   <label>CSS</label>
   <textarea class="css">
.tooltip {
  @include tooltip(right);
}
   </textarea>
  </div>
  <div class="col-1-3">
   <label>Rendering</label>
   <div class="rendering shadow-root"></div>
  </div>
</div>


<div class="row render">
  <h3>Table</h3>
  <div class="col-1-3">
   <label>HTML</label>
<textarea class="html">
&lt;table&gt;
  &lt;thead&gt;
    &lt;th&gt;A&lt;/th&gt;
    &lt;th&gt;B&lt;/th&gt;
    &lt;th&gt;C&lt;/th&gt;
    &lt;th&gt;D&lt;/th&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;A&lt;/td&gt;
      &lt;td&gt;B&lt;/td&gt;
      &lt;td&gt;C&lt;/td&gt;
      &lt;td&gt;D&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;A&lt;/td&gt;
      &lt;td&gt;B&lt;/td&gt;
      &lt;td&gt;C&lt;/td&gt;
      &lt;td&gt;D&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
</textarea>
  </div>
  <div class="col-1-3">
   <label>CSS</label>
    <textarea class="css">
/* no css */
    </textarea>
  </div>
  <div class="col-1-3">
   <label>Rendering</label>
   <div class="rendering shadow-root"></div>
  </div>
</div>



<div class="row render">
  <h3>Dropdown</h3>
  <div class="col-1-3">
    <label>HTML</label>
    <textarea class="html">
&lt;button class=&quot;dropdown&quot;&gt;Dropdown &lt;!-- add activate to class open/close it /// with button doesn't work...--&gt;
  &lt;ul class=&quot;options&quot;&gt;
    &lt;li class=&quot;item&quot;&gt;This is 1st link&lt;/li&gt;
    &lt;li class=&quot;item&quot;&gt;This is 2nd link&lt;/li&gt;
    &lt;li class=&quot;item&quot;&gt;This is 3nd link&lt;/li&gt;
    &lt;li class=&quot;item&quot;&gt;This is 4nd link&lt;/li&gt;
    &lt;li class=&quot;item separated&quot;&gt;E&lt;/li&gt;
    &lt;li class=&quot;item&quot;&gt;F&lt;/li&gt;
  &lt;/ul&gt;
&lt;/button&gt;
    </textarea>
  </div>
  <div class="col-1-3">
   <label>CSS</label>
   <textarea class="css">
/* no css */
   </textarea>
  </div>
  <div class="col-1-3">
   <label>Rendering</label>
   <div class="rendering shadow-root"></div>
  </div>
</div>

<div class="row render">
  <h3>Form</h3>
  <div class="col-1-3">
    <label>HTML</label>
    <textarea class="html">
&lt;form&gt;
    &lt;input type=&quot;text&quot; placeholder=&quot;Your name&quot; required /&gt;  
    &lt;input type=&quot;email&quot; placeholder=&quot;Your email&quot; required /&gt;  
    &lt;button class=&quot;button&quot; type=&quot;submit&quot;&gt;SUBSCRIBE&lt;/button&gt;
&lt;/form&gt;
    </textarea>
  </div>
  <div class="col-1-3">
   <label>CSS</label>
   <textarea class="css">
/* no css */
   </textarea>
  </div>
  <div class="col-1-3">
   <label>Rendering</label>
   <div class="rendering shadow-root"></div>
  </div>
</div>

<div class="row render">
  <h3>Icons</h3>
  <div class="col-1-3">
    <label>HTML</label>
    <textarea class="html">
&lt;span class=&quot;icon-example&quot;&gt;x&lt;/span&gt;
&lt;span class=&quot;icon-example2&quot;&gt;&lt;/span&gt;
    </textarea>
  </div>
  <div class="col-1-3">
   <label>CSS</label>
   <textarea class="css">
.icon-example {
  @include icon;
}
.icon-example2 {
  &amp;:after {
    @include icon;
    content: 'v';
  }
}
   </textarea>
  </div>
  <div class="col-1-3">
   <label>Rendering</label>
   <div class="rendering shadow-root"></div>
  </div>
</div>




<!-- <ul class="list">
  <li class="item">A</li>
  <li class="item">B</li>
  <li class="item new">C</li>
  <li>D</li>
</ul>
-->


<!-- <div id="overlay"></div> 
<div id="modal">
  <h2>Modal Title</h2>
  This is a modal
</div>
-->

<!-- <span class="arrow"></span> -->






<script id='js' type="text/javascript">

  var link = document.querySelectorAll('link')[0];
  link.onload = function() {
    console.log(link.sheet);
  };
  
  var rows = document.querySelectorAll('div.row.render');
  [].forEach.call(rows, renderExample);

  function renderExample(row) {
    var htmlSource = row.querySelectorAll('textarea.html')[0];
    var styleSource = row.querySelectorAll('textarea.css')[0];

    var CodeMirrorHTMLArea = CodeMirror.fromTextArea(htmlSource, {
      lineNumbers: true,
      mode: "xml",
    });

    var CodeMirrorCSSArea = CodeMirror.fromTextArea(styleSource, {
      lineNumbers: true,
      mode: "css"
    });

    var root = row.querySelectorAll('div.shadow-root')[0];
    var shadowRoot = root.createShadowRoot();

    var styleDest = document.createElement('style'); // make sur no fake whitespace

    styleDest.textContent = "@import './dist/test.css'; " + styleSource.value;

    var rendering = document.createElement('div');
    rendering.innerHTML = htmlSource.textContent;


    shadowRoot.appendChild(styleDest);
    shadowRoot.appendChild(rendering);

    resizeInput(root, CodeMirrorHTMLArea, CodeMirrorCSSArea);

    row.addEventListener('keyup', function() {
      updateRendering(shadowRoot, CodeMirrorHTMLArea, CodeMirrorCSSArea);
      resizeInput(root, CodeMirrorHTMLArea, CodeMirrorCSSArea);
    });
  }

  function updateRendering(root, htmlSource, styleSource) {
    var style = root.querySelectorAll('style')[0];
    var html = root.querySelectorAll('div')[0];

    style.textContent = "@import './dist/test.css';"  + styleSource.getValue();
    html.innerHTML = htmlSource.getValue();
  }

  function resizeInput(htmlRendering, htmlSource, styleSource) {
    htmlSource.setSize('100%;', 'auto');
    styleSource.setSize('100%;', 'auto');
    console.log(htmlRendering.offsetHeight);
    var maxHeight = Math.max(htmlSource.display.lastWrapHeight, styleSource.display.lastWrapHeight);

    htmlSource.setSize('100%;', maxHeight);
    styleSource.setSize('100%;', maxHeight);
    htmlRendering.style.height = maxHeight + "px";
  }
/// 
/// sass integration, error handling
/// 
</script>

</body>
</html>